(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1041:function(e,t,n){},1042:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(333),c=n(18),s=n(16),i=n(79),m=n(337),l=n(339),u=n.n(l),b=n(1),f=Object(i.c)({auth:Object(b.auth)(),form:Object(b.form)({name:"form"}),forms:Object(b.forms)({name:"forms",query:{type:"form",tags:"common"}}),submission:Object(b.submission)({name:"submission"}),submissions:Object(b.submissions)({name:"submissions"}),event:Object(i.c)({form:Object(b.form)({name:"event"}),submission:Object(b.submission)({name:"event"}),submissions:Object(b.submissions)({name:"event"})})}),p=u()(),h=[m.a,Object(s.routerMiddleware)(p)],d=i.d.apply(void 0,[i.a.apply(void 0,h)].concat([])),v=Object(i.e)(Object(s.connectRouter)(p)(f),{},d),j=n(1047),O=n(19),E=n(20),y=n(21),N=n(15),g=n(22),k=n(1043),I=n(1044),S=n(1045),w=function(e){function t(){return Object(O.a)(this,t),Object(y.a)(this,Object(N.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props,t=e.to,n=e.location,a=e.exact,o=e.role,c=e.className,s=e.children,i=Object(k.a)(n.pathname,{path:t,exact:a,strict:!1})?"nav-item active":"nav-item";return r.a.createElement("li",{className:i},r.a.createElement(I.a,{to:t,role:o,className:c},s))}}]),t}(a.Component);w.defaultProps={exact:!1};var R=Object(S.a)(function(e){return r.a.createElement(w,e)}),C="http://localhost:3001",F="https://api.form.io",A={};window.location.search.substr(1).split("&").forEach(function(e){A[e.split("=")[0]]=e.split("=")[1]&&decodeURIComponent(e.split("=")[1])});var x={projectUrl:C=A.projectUrl||C,apiUrl:F=A.apiUrl||F},_="/auth",U="/",B={form:"user/login"},P={form:"user/register"},L=function(e){function t(){return Object(O.a)(this,t),Object(y.a)(this,Object(N.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props,t=e.auth,n=e.logout;return r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark"},r.a.createElement("div",{className:"container"},r.a.createElement("ul",{className:"nav navbar-nav mr-auto"},r.a.createElement(R,{exact:!0,to:"/",role:"navigation button",className:"nav-link"},r.a.createElement("span",{className:"fa fa-home"})),t.is.hasOwnProperty("administrator")&&t.is.administrator?r.a.createElement(R,{to:"/form",role:"navigation link",className:"nav-link"},r.a.createElement("i",{className:"fa fa-wpforms"}),"\xa0 \u8868\u5355"):null),r.a.createElement("ul",{className:"nav navbar-nav ml-auto"},t.authenticated?r.a.createElement("li",{className:"nav-item"},r.a.createElement("span",{className:"nav-link",role:"navigation link",onClick:n},r.a.createElement("span",{className:"fa fa-sign-out"}),"\xa0 \u767b\u51fa")):r.a.createElement(R,{to:"/auth",role:"navigation link",className:"nav-link"},"\u767b\u5f55 | \u6ce8\u518c"))))}}]),t}(a.Component),T=Object(c.connect)(function(e){return{auth:Object(b.selectRoot)("auth",e)}},function(e){return{logout:function(){e(Object(b.logout)()),e(Object(s.push)(_))}}})(L),D=function(e){function t(){return Object(O.a)(this,t),Object(y.a)(this,Object(N.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){return r.a.createElement("footer",{className:"footer"},r.a.createElement("div",{className:"container text-center",style:{padding:"15px"}},"\u7ef4\u521b\u901a\u79d1\u6280"))}}]),t}(a.Component),M=function(e){function t(){return Object(O.a)(this,t),Object(y.a)(this,Object(N.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props.auth;return r.a.createElement("div",null,r.a.createElement("div",{className:"container"},e.authenticated?r.a.createElement("div",{className:"well text-center"},e.user&&e.user.data?r.a.createElement("h3",null,"\u5df2\u767b\u5f55\u4e3a\xa0",r.a.createElement("strong",null,e.user.data.email),"!"):null):null))}}]),t}(a.Component),W=Object(c.connect)(function(e){return{auth:Object(b.selectRoot)("auth",e)}},function(){return{}})(M),V=n(1046),Y=function(){return r.a.createElement("div",null,"\u8bfb\u53d6\u4e2d...")},G=function(e){function t(){return Object(O.a)(this,t),Object(y.a)(this,Object(N.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(E.a)(t,[{key:"componentWillMount",value:function(){this.props.getForms(1)}},{key:"render",value:function(){var e=this.props,t=e.forms,n=e.onAction,a=e.getForms,o=e.errors;return t.isActive?r.a.createElement(Y,null):r.a.createElement("div",null,r.a.createElement("h1",null,"\u5df2\u5b58\u50a8\u8868\u5355"),r.a.createElement(b.Errors,{errors:o}),r.a.createElement(b.FormGrid,{forms:t,onAction:n,getForms:a}),r.a.createElement(I.a,{className:"btn btn-primary",to:"/form/create"},r.a.createElement("i",{className:"fa fa-plus"})," \u521b\u5efa\u8868\u5355"))}}]),t}(a.Component),J=Object(c.connect)(function(e){return{forms:Object(b.selectRoot)("forms",e),errors:Object(b.selectError)("forms",e)}},function(e){return{getForms:function(t,n){e(Object(b.indexForms)("forms",t,n))},onAction:function(t,n){switch(n){case"view":e(Object(s.push)("/form/".concat(t._id)));break;case"submission":e(Object(s.push)("/form/".concat(t._id,"/submission")));break;case"edit":e(Object(s.push)("/form/".concat(t._id,"/edit")));break;case"delete":e(Object(s.push)("/form/".concat(t._id,"/delete")))}}}})(G),q=n(87),$=Object(c.connect)(function(e){return{form:{display:"form"},saveText:"\u521b\u5efa\u8868\u5355",errors:Object(b.selectError)("form",e)}},function(e){return{saveForm:function(t){var n=Object(q.a)({},t,{tags:["common"]});e(Object(b.saveForm)("form",n,function(t,n){t||e(Object(s.push)("/form/".concat(n._id)))}))}}})(function(e){return r.a.createElement("div",null,r.a.createElement("h2",null,"\u521b\u5efa\u8868\u5355"),r.a.createElement("hr",null),r.a.createElement(b.Errors,{errors:e.errors}),r.a.createElement(b.FormEdit,e))}),z=function(e){function t(){return Object(O.a)(this,t),Object(y.a)(this,Object(N.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props,t=e.submission,n=e.hideComponents,a=e.onSubmit,o=e.errors,c=e.options,s=e.form,i=s.form,m=s.isActive,l=s.url;return m?r.a.createElement(Y,null):r.a.createElement("div",null,r.a.createElement("h3",null,"New ",i.title),r.a.createElement(b.Errors,{errors:o}),r.a.createElement(b.Form,{form:i,submission:t,url:l,options:Object(q.a)({},{template:"bootstrap3",iconset:"fa"},c),hideComponents:n,onSubmit:a}))}}]),t}(a.Component),H=Object(c.connect)(function(e){return{form:Object(b.selectRoot)("form",e),errors:[Object(b.selectError)("form",e),Object(b.selectError)("submission",e)],options:{noAlerts:!0}}},function(e,t){return{onSubmit:function(n){e(Object(b.saveSubmission)("submission",n,t.match.params.formId,function(n,a){n||(e(Object(b.resetSubmissions)("submission")),e(Object(s.push)("/form/".concat(t.match.params.formId,"/submission/").concat(a._id))))}))}}})(z),K=Object(c.connect)(function(e){return{form:Object(b.selectForm)("form",e),saveText:"\u4fdd\u5b58\u8868\u5355",errors:Object(b.selectError)("form",e)}},function(e){return{saveForm:function(t){return e(Object(b.saveForm)("form",t,function(e,t){}))}}})(function(e){return r.a.createElement("div",null,r.a.createElement("h2",null,"Edit ",e.form.title," Form"),r.a.createElement("hr",null),r.a.createElement(b.Errors,{errors:e.errors}),r.a.createElement(b.FormEdit,e))}),Q=function(e){function t(){return Object(O.a)(this,t),Object(y.a)(this,Object(N.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props,t=e.onYes,n=e.onNo,a=e.message,o=e.yesText,c=void 0===o?"\u786e\u5b9a":o,s=e.noText,i=void 0===s?"\u53d6\u6d88":s;return r.a.createElement("div",null,r.a.createElement("h3",null,a),r.a.createElement("div",{className:"btn-toolbar"},r.a.createElement("span",{onClick:t,className:"btn btn-danger"},c),r.a.createElement("span",{onClick:n,className:"btn btn-default"},i)))}}]),t}(a.Component),X=Object(c.connect)(function(e){return{message:'\u786e\u5b9a\u5220\u9664\u8868\u5355 "'.concat(e.form.form.title,'"\uff1f'),errors:Object(b.selectError)("form",e)}},function(e,t){return{onYes:function(){e(Object(b.deleteForm)("form",t.match.params.formId,function(t){t||(e(Object(b.resetForms)("forms")),e(Object(s.push)("/form")))}))},onNo:function(){e(Object(s.goBack)())}}})(function(e){return r.a.createElement("div",null,r.a.createElement(b.Errors,{errors:e.errors}),r.a.createElement(Q,e))}),Z=function(e){function t(){return Object(O.a)(this,t),Object(y.a)(this,Object(N.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(E.a)(t,[{key:"componentWillMount",value:function(){this.props.getSubmissions(1)}},{key:"render",value:function(){var e=this.props.match.params.formId,t=this.props,n=t.form,a=t.submissions,o=t.isLoading,c=t.onAction,s=t.getSubmissions,i=t.errors;return o?r.a.createElement(Y,null):r.a.createElement("div",{className:"form-index"},r.a.createElement(b.Errors,{errors:i}),r.a.createElement(b.SubmissionGrid,{submissions:a,form:n,onAction:c,getSubmissions:s}),r.a.createElement(I.a,{className:"btn btn-primary",to:"/form/".concat(e)},r.a.createElement("i",{className:"glyphicon glyphicon-plus fa fa-plus","aria-hidden":"true"}),"New ",n.title))}}]),t}(a.Component),ee=Object(c.connect)(function(e,t){var n=Object(b.selectRoot)("form",e),a=Object(b.selectRoot)("submissions",e);return{form:n.form,submissions:a,isLoading:n.isActive||a.isActive,errors:[Object(b.selectError)("submissions",e),Object(b.selectError)("form",e)]}},function(e,t){return{getSubmissions:function(n,a){return e(Object(b.getSubmissions)("submissions",n,a,t.match.params.formId))},onAction:function(n,a){switch(a){case"view":case"row":e(Object(s.push)("/form/".concat(t.match.params.formId,"/submission/").concat(n._id)));break;case"edit":e(Object(s.push)("/form/".concat(t.match.params.formId,"/submission/").concat(n._id,"/edit")));break;case"delete":e(Object(s.push)("/form/".concat(t.match.params.formId,"/submission/").concat(n._id,"/delete")))}}}})(Z),te=function(e){function t(){return Object(O.a)(this,t),Object(y.a)(this,Object(N.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props,t=e.hideComponents,n=e.onSubmit,a=e.options,o=e.errors,c=e.form,s=c.form,i=c.isActive,m=e.submission,l=m.submission,u=m.isActive,f=m.url;return i||u?r.a.createElement(Y,null):r.a.createElement("div",null,r.a.createElement("h3",null,"\u67e5\u770b ",s.title," \u5df2\u63d0\u4ea4\u6570\u636e"),r.a.createElement(b.Errors,{errors:o}),r.a.createElement(b.Form,{form:s,submission:l,url:f,hideComponents:t,onSubmit:n,options:Object(q.a)({},{template:"bootstrap3",iconset:"fa"},a)}))}}]),t}(a.Component),ne=Object(c.connect)(function(e){return{form:Object(b.selectRoot)("form",e),submission:Object(b.selectRoot)("submission",e),options:{readOnly:!0},errors:[Object(b.selectError)("submission",e),Object(b.selectError)("form",e)]}},function(e,t){return{onSubmit:function(n){e(Object(b.saveSubmission)("submission",n,t.match.params.formId,function(n,a){n||(e(Object(b.resetSubmissions)("submission")),e(Object(s.push)("/form/".concat(t.match.params.formId,"/submission/").concat(a._id))))}))}}})(te),ae=function(e){function t(){return Object(O.a)(this,t),Object(y.a)(this,Object(N.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props,t=e.hideComponents,n=e.onSubmit,a=e.options,o=e.errors,c=e.form,s=c.form,i=c.isActive,m=e.submission,l=m.submission,u=m.isActive,f=m.url;return i||u?r.a.createElement(Y,null):r.a.createElement("div",null,r.a.createElement("h3",null,"Edit ",s.title," Submission"),r.a.createElement(b.Errors,{errors:o}),r.a.createElement(b.Form,{form:s,submission:l,url:f,hideComponents:t,onSubmit:n,options:Object(q.a)({},{template:"bootstrap3",iconset:"fa"},a)}))}}]),t}(a.Component),re=Object(c.connect)(function(e){return{form:Object(b.selectRoot)("form",e),submission:Object(b.selectRoot)("submission",e),options:{noAlerts:!0},errors:[Object(b.selectError)("submission",e),Object(b.selectError)("form",e)]}},function(e,t){return{onSubmit:function(n){e(Object(b.saveSubmission)("submission",n,t.match.params.formId,function(n,a){n||(e(Object(b.resetSubmissions)("submission")),e(Object(s.push)("/form/".concat(t.match.params.formId,"/submission/").concat(a._id))))}))}}})(ae),oe=Object(c.connect)(function(e){return{message:'\u786e\u5b9a\u5220\u9664\u5df2\u63d0\u4ea4\u6570\u636e "'.concat(e.submission.submission._id,'"\uff1f'),errors:[Object(b.selectError)("submission",e),Object(b.selectError)("form",e)]}},function(e,t){return{onYes:function(){e(Object(b.deleteSubmission)("submission",t.match.params.submissionId,t.match.params.formId,function(n){n||(e(Object(b.resetSubmissions)("submissions")),e(Object(s.push)("/form/".concat(t.match.params.formId,"/submission"))))}))},onNo:function(){e(Object(s.goBack)())}}})(function(e){return r.a.createElement("div",null,r.a.createElement(b.Errors,{errors:e.errors}),r.a.createElement(Q,e))}),ce=function(e){function t(){var e;return Object(O.a)(this,t),(e=Object(y.a)(this,Object(N.a)(t).call(this))).state={submissionId:""},e}return Object(g.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props.match.params,t=e.formId,n=e.submissionId;return r.a.createElement("div",null,r.a.createElement("ul",{className:"nav nav-tabs"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(I.a,{className:"nav-link",to:"/form/".concat(t,"/submission")},r.a.createElement("i",{className:"fa fa-chevron-left"}))),r.a.createElement("li",{className:"nav-item"},r.a.createElement(I.a,{className:"nav-link",to:"/form/".concat(t,"/submission/").concat(n)},r.a.createElement("i",{className:"fa fa-eye"})," \u67e5\u770b")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(I.a,{className:"nav-link",to:"/form/".concat(t,"/submission/").concat(n,"/edit")},r.a.createElement("i",{className:"fa fa-edit"})," \u7f16\u8f91")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(I.a,{className:"nav-link",to:"/form/".concat(t,"/submission/").concat(n,"/delete")},r.a.createElement("i",{className:"fa fa-trash"})," \u5220\u9664"))),r.a.createElement(V.a,null,r.a.createElement(j.a,{exact:!0,path:"/form/:formId/submission/:submissionId",component:ne}),r.a.createElement(j.a,{path:"/form/:formId/submission/:submissionId/edit",component:re}),r.a.createElement(j.a,{path:"/form/:formId/submission/:submissionId/delete",component:oe})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.match.params.submissionId!==t.submissionId&&e.getSubmission(e.match.params.submissionId),{submissionId:e.match.params.submissionId}}}]),t}(a.Component),se=Object(c.connect)(function(){return{}},function(e,t){return{getSubmission:function(n){return e(Object(b.getSubmission)("submission",n,t.match.params.formId))}}})(ce),ie=function(){return r.a.createElement("div",null,r.a.createElement(V.a,null,r.a.createElement(j.a,{exact:!0,path:"/form/:formId/submission",component:ee}),r.a.createElement(j.a,{path:"/form/:formId/submission/:submissionId",component:se})))},me=function(e){function t(){var e;return Object(O.a)(this,t),(e=Object(y.a)(this,Object(N.a)(t).call(this))).state={formId:""},e}return Object(g.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props.match.params.formId;return r.a.createElement("div",null,r.a.createElement("ul",{className:"nav nav-tabs"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(I.a,{className:"nav-link",to:"/form"},r.a.createElement("i",{className:"fa fa-chevron-left"}))),r.a.createElement("li",{className:"nav-item"},r.a.createElement(I.a,{className:"nav-link",to:"/form/".concat(e)},r.a.createElement("i",{className:"fa fa-pencil"})," \u63d0\u4ea4\u8868\u5355")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(I.a,{className:"nav-link",to:"/form/".concat(e,"/submission")},r.a.createElement("i",{className:"fa fa-list-alt"})," \u67e5\u770b\u5df2\u63d0\u4ea4\u8868\u5355")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(I.a,{className:"nav-link",to:"/form/".concat(e,"/edit")},r.a.createElement("i",{className:"fa fa-edit"})," \u7f16\u8f91\u8868\u5355")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(I.a,{className:"nav-link",to:"/form/".concat(e,"/delete")},r.a.createElement("i",{className:"fa fa-trash"})," \u5220\u9664\u8868\u5355"))),r.a.createElement(V.a,null,r.a.createElement(j.a,{exact:!0,path:"/form/:formId",component:H}),r.a.createElement(j.a,{path:"/form/:formId/edit",component:K}),r.a.createElement(j.a,{path:"/form/:formId/delete",component:X}),r.a.createElement(j.a,{path:"/form/:formId/submission",component:ie})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.match.params.formId!==t.formId&&e.getForm(e.match.params.formId),{formId:e.match.params.formId}}}]),t}(a.Component),le=Object(c.connect)(function(){return{}},function(e){return{getForm:function(t){return e(Object(b.getForm)("form",t))}}})(me),ue=function(){return r.a.createElement("div",null,r.a.createElement(V.a,null,r.a.createElement(j.a,{exact:!0,path:"/form",component:J}),r.a.createElement(j.a,{exact:!0,path:"/form/create",component:$}),r.a.createElement(j.a,{path:"/form/:formId",component:le})))},be=function(e){function t(){return Object(O.a)(this,t),Object(y.a)(this,Object(N.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(E.a)(t,[{key:"componentWillMount",value:function(){this.props.getForm(),this.props.getSubmissions(1)}},{key:"render",value:function(){var e=this.props,t=e.form,n=e.submissions,a=e.isLoading,o=e.onAction,c=e.getSubmissions,s=e.errors;return a?r.a.createElement(Y,null):s.length&&"Invalid alias"===s[0]?r.a.createElement("div",{className:"alert alert-warning"},'You have not yet created an Event Resource in your project. Either create an Event Resource with the path of "event" or import the src/project.json into your project.'):r.a.createElement("div",{className:"form-index"},r.a.createElement("h1",null,"Events"),r.a.createElement(b.Errors,{errors:s}),r.a.createElement(b.SubmissionGrid,{submissions:n,form:t,onAction:o,getSubmissions:c}),r.a.createElement(I.a,{className:"btn btn-primary",to:"/event/create"},r.a.createElement("i",{className:"glyphicon glyphicon-plus fa fa-plus","aria-hidden":"true"}),"New ",t.title))}}]),t}(a.Component),fe=Object(c.connect)(function(e,t){var n=Object(b.selectRoot)("form",Object(b.selectRoot)("event",e)),a=Object(b.selectRoot)("submissions",Object(b.selectRoot)("event",e));return{form:n.form,submissions:a,isLoading:n.isActive||a.isActive,errors:[Object(b.selectError)("submissions",Object(b.selectRoot)("event",e)),Object(b.selectError)("form",Object(b.selectRoot)("event",e))]}},function(e,t){return{getForm:function(){return e(Object(b.getForm)("event"))},getSubmissions:function(t,n){return e(Object(b.getSubmissions)("event",t,n))},onAction:function(n,a){switch(a){case"view":case"row":e(Object(s.push)("/event/".concat(n._id)));break;case"edit":e(Object(s.push)("/form/".concat(t.match.params.formId,"/submission/").concat(n._id,"/edit")));break;case"delete":e(Object(s.push)("/form/".concat(t.match.params.formId,"/submission/").concat(n._id,"/delete")))}}}})(be),pe=function(e){function t(){return Object(O.a)(this,t),Object(y.a)(this,Object(N.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(E.a)(t,[{key:"componentWillMount",value:function(){this.props.getForm()}},{key:"render",value:function(){var e=this.props,t=e.submission,n=e.hideComponents,a=e.onSubmit,o=e.errors,c=e.options,s=e.form,i=s.form,m=s.isActive,l=s.url;return m?r.a.createElement(Y,null):r.a.createElement("div",null,r.a.createElement("h3",null,"New ",i.title),r.a.createElement(b.Errors,{errors:o}),r.a.createElement(b.Form,{form:i,submission:t,url:l,options:c,hideComponents:n,onSubmit:a}))}}]),t}(a.Component),he=Object(c.connect)(function(e){return{form:Object(b.selectRoot)("form",Object(b.selectRoot)("event",e)),errors:[Object(b.selectError)("form",Object(b.selectRoot)("event",e)),Object(b.selectError)("submission",Object(b.selectRoot)("event",e))],options:{noAlerts:!0}}},function(e,t){return{getForm:function(){return e(Object(b.getForm)("event"))},onSubmit:function(t){e(Object(b.saveSubmission)("event",t,null,function(t,n){t||(e(Object(b.resetSubmissions)("event")),e(Object(s.push)("/event")))}))}}})(pe),de=function(e){function t(){return Object(O.a)(this,t),Object(y.a)(this,Object(N.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props,t=e.hideComponents,n=e.onSubmit,a=e.options,o=e.errors,c=e.form,s=c.form,i=c.isActive,m=e.submission,l=m.submission,u=m.isActive,f=m.url;return i||u?r.a.createElement(Y,null):r.a.createElement("div",null,r.a.createElement("h3",null,"View Event"),r.a.createElement(b.Errors,{errors:o}),r.a.createElement(b.Form,{form:s,submission:l,url:f,hideComponents:t,onSubmit:n,options:a}))}}]),t}(a.Component),ve=Object(c.connect)(function(e){return{form:Object(b.selectRoot)("form",Object(b.selectRoot)("event",e)),submission:Object(b.selectRoot)("submission",Object(b.selectRoot)("event",e)),options:{readOnly:!0},errors:[Object(b.selectError)("submission",Object(b.selectRoot)("event",e)),Object(b.selectError)("form",Object(b.selectRoot)("event",e))]}},function(e,t){return{onSubmit:function(n){e(Object(b.saveSubmission)("event",n,t.match.params.formId,function(t,n){t||(e(Object(b.resetSubmissions)("event")),e(Object(s.push)("/event/".concat(n._id))))}))}}})(de),je=function(e){function t(){return Object(O.a)(this,t),Object(y.a)(this,Object(N.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props,t=e.hideComponents,n=e.onSubmit,a=e.options,o=e.errors,c=e.form,s=c.form,i=c.isActive,m=e.submission,l=m.submission,u=m.isActive,f=m.url;return i||u?r.a.createElement(Y,null):r.a.createElement("div",null,r.a.createElement("h3",null,"Edit Event"),r.a.createElement(b.Errors,{errors:o}),r.a.createElement(b.Form,{form:s,submission:l,url:f,hideComponents:t,onSubmit:n,options:a}))}}]),t}(a.Component),Oe=Object(c.connect)(function(e){return{form:Object(b.selectRoot)("form",Object(b.selectRoot)("event",e)),submission:Object(b.selectRoot)("submission",Object(b.selectRoot)("event",e)),options:{noAlerts:!0},errors:[Object(b.selectError)("submission",Object(b.selectRoot)("event",e)),Object(b.selectError)("form",Object(b.selectRoot)("event",e))]}},function(e,t){return{onSubmit:function(n){e(Object(b.saveSubmission)("event",n,t.match.params.formId,function(t,n){t||(e(Object(b.resetSubmissions)("event")),e(Object(s.push)("/event/".concat(n._id))))}))}}})(je),Ee=n(62),ye=n.n(Ee),Ne=Object(c.connect)(function(e){return{message:'Are you sure you wish to delete the event "'.concat(ye()(e,"event.submission.submission.data.title",""),'"?'),errors:[Object(b.selectError)("submission",e),Object(b.selectError)("form",e)]}},function(e,t){return{onYes:function(){e(Object(b.deleteSubmission)("event",t.match.params.eventId,null,function(t){t||(e(Object(b.resetSubmissions)("event")),e(Object(s.push)("/event")))}))},onNo:function(){e(Object(s.goBack)())}}})(function(e){return r.a.createElement("div",null,r.a.createElement(b.Errors,{errors:e.errors}),r.a.createElement(Q,e))}),ge=function(e){function t(){var e;return Object(O.a)(this,t),(e=Object(y.a)(this,Object(N.a)(t).call(this))).state={eventId:""},e}return Object(g.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props.match.params.eventId;return r.a.createElement("div",null,r.a.createElement("ul",{className:"nav nav-tabs"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(I.a,{className:"nav-link",to:"/event"},r.a.createElement("i",{className:"fa fa-chevron-left"}))),r.a.createElement("li",{className:"nav-item"},r.a.createElement(I.a,{className:"nav-link",to:"/event/".concat(e)},r.a.createElement("i",{className:"fa fa-eye"})," View")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(I.a,{className:"nav-link",to:"/event/".concat(e,"/edit")},r.a.createElement("i",{className:"fa fa-edit"})," Edit")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(I.a,{className:"nav-link",to:"/event/".concat(e,"/delete")},r.a.createElement("i",{className:"fa fa-trash"})," Delete"))),r.a.createElement(V.a,null,r.a.createElement(j.a,{exact:!0,path:"/event/:eventId",component:ve}),r.a.createElement(j.a,{path:"/event/:eventId/edit",component:Oe}),r.a.createElement(j.a,{path:"/event/:eventId/delete",component:Ne})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.match.params.eventId!==t.eventId&&(e.getForm(),e.getSubmission(e.match.params.eventId)),{eventId:e.match.params.eventId}}}]),t}(a.Component),ke=Object(c.connect)(function(){return{}},function(e,t){return{getForm:function(){return e(Object(b.getForm)("event"))},getSubmission:function(t){return e(Object(b.getSubmission)("event",t))}}})(ge),Ie=function(){return r.a.createElement("div",null,r.a.createElement(V.a,null,r.a.createElement(j.a,{exact:!0,path:"/event",component:fe}),r.a.createElement(j.a,{exact:!0,path:"/event/create",component:he}),r.a.createElement(j.a,{path:"/event/:eventId",component:ke})))},Se=function(e){function t(){return Object(O.a)(this,t),Object(y.a)(this,Object(N.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){return r.a.createElement(b.Form,this.props)}}]),t}(a.Component),we=Object(c.connect)(function(){return{src:x.projectUrl+"/"+B.form}},function(e){return{onSubmitDone:function(t){e(Object(s.push)(U)),e(Object(b.setUser)(t))}}})(Se),Re=function(e){function t(){return Object(O.a)(this,t),Object(y.a)(this,Object(N.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){return r.a.createElement(b.Form,this.props)}}]),t}(a.Component),Ce=Object(c.connect)(function(e,t){return{src:x.projectUrl+"/"+P.form}},function(e,t){return{onSubmitDone:function(t){e(Object(s.push)(U)),e(Object(b.setUser)(t))}}})(Re),Fe=function(e){function t(){return Object(O.a)(this,t),Object(y.a)(this,Object(N.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){return"/auth"===this.props.location.pathname?r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-6 col-md-6"},r.a.createElement("div",{className:"panel panel-primary login-container card"},r.a.createElement("div",{className:"panel-heading card-header"},"Login"),r.a.createElement("div",{className:"panel-body card-body"},r.a.createElement(we,null)))),r.a.createElement("div",{className:"col-lg-6 col-md-6"},r.a.createElement("div",{className:"panel panel-primary register-container card"},r.a.createElement("div",{className:"panel-heading card-header"},"Register"),r.a.createElement("div",{className:"panel-body card-body"},r.a.createElement(Ce,null))))):r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6 col-md-offset-3"},r.a.createElement("div",{className:"panel panel-default card"},r.a.createElement("div",{className:"panel-heading card-header",style:{paddingBottom:0,borderBottom:"none"}},r.a.createElement("ul",{className:"nav nav-tabs",style:{borderBottom:"none"}},r.a.createElement(R,{to:"/auth/login"},"\u767b\u5f55"),r.a.createElement(R,{to:"/auth/register"},"\u6ce8\u518c"))),r.a.createElement("div",{className:"panel-body card-body"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-12"},r.a.createElement(j.a,{path:"/auth/login",component:we}),r.a.createElement(j.a,{path:"/auth/register",component:Ce})))))))}}]),t}(a.Component),Ae=function(){return r.a.createElement("div",null,r.a.createElement(T,null),r.a.createElement("div",{className:"container",id:"main"},"https://reactstarter.form.io"===x.projectUrl?r.a.createElement("div",{className:"alert alert-warning"},"This app is still configured to use the default project. Be sure to create your own project in form.io and change the PROJECT_URL in src/config.js"):null,r.a.createElement(j.a,{exact:!0,path:"/",component:W}),r.a.createElement(j.a,{path:"/form",component:ue}),r.a.createElement(j.a,{path:"/event",component:Ie}),r.a.createElement(j.a,{path:"/auth",component:Fe})),r.a.createElement(D,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var xe=n(221),_e=n(220),Ue=n.n(_e),Be=n(340),Pe=n.n(Be),Le=function(e){function t(e,n,a){var r;return Object(O.a)(this,t),(r=Object(y.a)(this,Object(N.a)(t).call(this,e,n,a))).foo="bar",r}return Object(g.a)(t,e),Object(E.a)(t,[{key:"render",value:function(e){var n=this,a="table ";["striped","bordered","hover","condensed"].forEach(function(e){n.component[e]&&(a+="table-".concat(e," "))});for(var r="",o=0;o<this.component.numRows;o++){for(var c="<tr>",s=0;s<this.component.numCols;s++){var i="<td>";i+=this.renderTemplate("input",{input:{type:"input",ref:"".concat(this.component.key,"-").concat(o),attr:{id:"".concat(this.component.key,"-").concat(o,"-").concat(s),class:"form-control",type:"checkbox"}}}),c+=i+="</td>"}r+=c+="</tr>"}return Object(xe.a)(Object(N.a)(t.prototype),"render",this).call(this,"\n<table class=".concat(a,">\n  <tbody>\n     ").concat(r,"\n  </tbody>\n</table>\n    "))}},{key:"attach",value:function(e){for(var n=this,a={},r=0;r<this.component.numRows;r++)a["".concat(this.component.key,"-").concat(r)]="multiple";this.loadRefs(e,a),this.checks=[];for(var o=0;o<this.component.numRows;o++)this.checks[o]=Array.prototype.slice.call(this.refs["".concat(this.component.key,"-").concat(o)],0),this.checks[o].forEach(function(e){n.addEventListener(e,"click",function(){return n.updateValue()})});return Object(xe.a)(Object(N.a)(t.prototype),"attach",this).call(this,e)}},{key:"getValue",value:function(){var e=[];for(var t in this.checks){var n=this.checks[t];for(var a in e[t]=[],n){var r=n[a];e[t][a]=!!r.checked}}return e}},{key:"setValue",value:function(e){if(e)for(var t in this.checks){var n=this.checks[t];if(!e[t])break;for(var a in n){var r=n[a];if(!e[t][a])return!1;var o=e[t][a]?1:0;r.value=o,r.checked=o}}}}],[{key:"schema",value:function(){return Ue.a.schema({type:"checkmatrix",numRows:3,numCols:3})}}]),t}(Ue.a);Le.builderInfo={title:"Check Matrix",group:"basic",icon:"fa fa-table",weight:70,documentation:"http://help.form.io/userguide/#table",schema:Le.schema()},Le.editForm=Pe.a;var Te={checkmatrix:Le};n(1041);b.Formio.setProjectUrl(x.projectUrl),b.Formio.setBaseUrl(x.apiUrl),b.Components.setComponents(Te),v.dispatch(Object(b.initAuth)()),Object(o.render)(r.a.createElement(c.Provider,{store:v},r.a.createElement(s.ConnectedRouter,{history:p},r.a.createElement("div",null,r.a.createElement(Ae,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},341:function(e,t,n){e.exports=n(1042)}},[[341,1,2]]]);
//# sourceMappingURL=main.fe01f3a7.chunk.js.map